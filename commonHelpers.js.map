{"version":3,"file":"commonHelpers.js","sources":["../src/js/1-timer.js"],"sourcesContent":["\n\n// Описаний в документації\nimport flatpickr from \"flatpickr\";\n// Додатковий імпорт стилів\nimport \"flatpickr/dist/flatpickr.min.css\";\n// Описаний у документації\nimport iziToast from \"izitoast\";\n// Додатковий імпорт стилів\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nconst buttonStart = document.querySelector(\"button\");\nconst datetimePicker = document.getElementById('datetime-picker');\nlet userSelectedDate; \n\n\nconst options = {\n \n    enableTime: true,\n    time_24hr: true,\n    defaultDate: new Date(),\n    minuteIncrement: 1,\n\n    onClose(selectedDates) {\n      \n      if(selectedDates[0] < new Date()){\n        \n      userSelectedDate = null;\n      console.info(\"Please choose a date in the future\");\n      window.alert(\"Please choose a date in the future\");\n      buttonStart.disabled = true;\n      } else {\n\n        buttonStart.disabled = false;\n        userSelectedDate = selectedDates[0];\n      }\n      console.log(selectedDates[0]);\n     \n    },\n  };\n  \n  flatpickr(\"#datetime-picker\", options);\n  \n  function convertMs(ms) {\n    // Number of milliseconds per unit of time\n    const second = 1000;\n    const minute = second * 60;\n    const hour = minute * 60;\n    const day = hour * 24;\n      \n    // Remaining days\n    const days = Math.floor(ms / day);\n    // Remaining hours\n    const hours = Math.floor((ms % day) / hour);\n    // Remaining minutes\n    const minutes = Math.floor(((ms % day) % hour) / minute);\n    // Remaining seconds\n    const seconds = Math.floor((((ms % day) % hour) % minute) / second);\n  \n    return { days, hours, minutes, seconds };\n  }\n\n  \n   function addLeadingZero(value) {\n    return value < 10 ? String(value).padStart(2, \"0\") : value;\n   }     // яка використовує метод рядка padStart() і перед відмальовуванням інтерфейсу форматує значення.\n   \n\n  \n\n\nflatpickr(\"#datetime-picker\", options);\n\nbuttonStart.addEventListener('click', function() {\n    if (userSelectedDate) {\n        buttonStart.disabled = true;\n        datetimePicker.disabled = true;\n        startTimer(userSelectedDate);\n    }\n});\n\nfunction startTimer(endDate) {\n        const timerInterval = setInterval(function() {\n        const currentTime = new Date().getTime();\n        const difference = endDate.getTime() - currentTime;\n\n        if (difference <= 0) {\n            clearInterval(timerInterval);\n            updateTimerDisplay(0, 0, 0, 0);\n            buttonStart.disabled = false;\n            datetimePicker.disabled = false;\n            return;\n        }\n\n        const { days, hours, minutes, seconds } = convertMs(difference);\n        updateTimerDisplay(days, hours, minutes, seconds);\n    }, 1000);\n}\n\n\nfunction updateTimerDisplay(days, hours, minutes, seconds) {\n    document.querySelector('[data-days]').textContent = addLeadingZero(days);\n    document.querySelector('[data-hours]').textContent = addLeadingZero(hours);\n    document.querySelector('[data-minutes]').textContent = addLeadingZero(minutes);\n    document.querySelector('[data-seconds]').textContent = addLeadingZero(seconds);\n}\n\n\n\n\nconsole.log(convertMs(2000)); // {days: 0, hours: 0, minutes: 0, seconds: 2}\n  console.log(convertMs(140000)); // {days: 0, hours: 0, minutes: 2, seconds: 20}\n  console.log(convertMs(24140000)); // {days: 0, hours: 6 minutes: 42, seconds: 20}\n"],"names":["buttonStart","datetimePicker","userSelectedDate","options","selectedDates","flatpickr","convertMs","ms","days","hours","minutes","seconds","addLeadingZero","value","startTimer","endDate","timerInterval","currentTime","difference","updateTimerDisplay"],"mappings":"svBAWA,MAAMA,EAAc,SAAS,cAAc,QAAQ,EAC7CC,EAAiB,SAAS,eAAe,iBAAiB,EAChE,IAAIC,EAGJ,MAAMC,EAAU,CAEZ,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EAEjB,QAAQC,EAAe,CAElBA,EAAc,CAAC,EAAI,IAAI,MAE1BF,EAAmB,KACnB,QAAQ,KAAK,oCAAoC,EACjD,OAAO,MAAM,oCAAoC,EACjDF,EAAY,SAAW,KAGrBA,EAAY,SAAW,GACvBE,EAAmBE,EAAc,CAAC,GAEpC,QAAQ,IAAIA,EAAc,CAAC,CAAC,CAE7B,CACL,EAEEC,EAAU,mBAAoBF,CAAO,EAErC,SAASG,EAAUC,EAAI,CAQrB,MAAMC,EAAO,KAAK,MAAMD,EAAK,KAAG,EAE1BE,EAAQ,KAAK,MAAOF,EAAK,MAAO,IAAI,EAEpCG,EAAU,KAAK,MAAQH,EAAK,MAAO,KAAQ,GAAM,EAEjDI,EAAU,KAAK,MAASJ,EAAK,MAAO,KAAQ,IAAU,GAAM,EAElE,MAAO,CAAE,KAAAC,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,CAAO,CACvC,CAGA,SAASC,EAAeC,EAAO,CAC9B,OAAOA,EAAQ,GAAK,OAAOA,CAAK,EAAE,SAAS,EAAG,GAAG,EAAIA,CACrD,CAMJR,EAAU,mBAAoBF,CAAO,EAErCH,EAAY,iBAAiB,QAAS,UAAW,CACzCE,IACAF,EAAY,SAAW,GACvBC,EAAe,SAAW,GAC1Ba,EAAWZ,CAAgB,EAEnC,CAAC,EAED,SAASY,EAAWC,EAAS,CACrB,MAAMC,EAAgB,YAAY,UAAW,CAC7C,MAAMC,EAAc,IAAI,KAAM,EAAC,QAAO,EAChCC,EAAaH,EAAQ,QAAO,EAAKE,EAEvC,GAAIC,GAAc,EAAG,CACjB,cAAcF,CAAa,EAC3BG,EAAmB,EAAG,EAAG,EAAG,CAAC,EAC7BnB,EAAY,SAAW,GACvBC,EAAe,SAAW,GAC1B,MACH,CAED,KAAM,CAAE,KAAAO,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,GAAYL,EAAUY,CAAU,EAC9DC,EAAmBX,EAAMC,EAAOC,EAASC,CAAO,CACnD,EAAE,GAAI,CACX,CAGA,SAASQ,EAAmBX,EAAMC,EAAOC,EAASC,EAAS,CACvD,SAAS,cAAc,aAAa,EAAE,YAAcC,EAAeJ,CAAI,EACvE,SAAS,cAAc,cAAc,EAAE,YAAcI,EAAeH,CAAK,EACzE,SAAS,cAAc,gBAAgB,EAAE,YAAcG,EAAeF,CAAO,EAC7E,SAAS,cAAc,gBAAgB,EAAE,YAAcE,EAAeD,CAAO,CACjF,CAKA,QAAQ,IAAIL,EAAU,GAAI,CAAC,EACzB,QAAQ,IAAIA,EAAU,IAAM,CAAC,EAC7B,QAAQ,IAAIA,EAAU,MAAQ,CAAC"}